<!-- productEdit.ejs -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Product</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Custom styles */
    body {
      background-color: #f2f2f2; /* Light Grey */
    }

    header {
      background-color: #ffd700; /* Yellow */
      color: #333; /* Dark Grey */
      padding: 20px;
      text-align: center;
    }

    .container {
      margin-top: 20px;
    }

    .product-image {
      text-align: center;
      margin-bottom: 20px;
    }

    .product-image img {
      max-width: 100px;
    }

    form {
      background-color: #fff; /* White */
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    label {
      font-weight: bold;
      margin-top: 10px;
    }

    select,
    input {
      width: 100%;
      padding: 8px;
      margin: 5px 0 20px 0;
      display: inline-block;
      border: 1px solid #ccc;
      box-sizing: border-box;
      border-radius: 5px;
    }

    .currency-image {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 10px;
    }

    .currency-image img {
      max-width: 50px;
      border-radius: 5px;
      margin-left: 10px;
    }

    .image-card {
      margin-top: 20px;
      text-align: center;
    }

    .image-card img {
      max-width: 150px;
      border-radius: 5px;
      margin-top: 10px;
    }

    .img-wrap {
      max-width: 80%;
      margin: 20px auto;
      border: 2px solid #ffd700; /* Yellow */
      padding: 10px;
      border-radius: 5px;
    }

    button {
      background-color: #ffd700; /* Yellow */
      color: #333; /* Dark Grey */
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #cca300; /* Darker Yellow */
    }
    .image-preview {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
    }

    .image-preview img {
      max-width: 100px;
      border-radius: 5px;
    }

    .update-image-btn {
      background-color: #ffd700;
      color: #333;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .update-image-btn:hover {
      background-color: #cca300;
    }
  </style>
</head>

<body>
  <header>
    <h1>Edit Product</h1>
  </header>

  <div class="container">
 

    <form action="/admin/updateproduct/<%= product.id %>" method="post">

      <!-- Include input fields for editing product details -->
      <label for="productName">Product Name:</label>
      <input type="text" id="productName" name="name" value="<%= product.name %>" required>

      <label for="productPrice">Product Price:</label>
      <input type="text" id="productPrice" name="price" value="<%= product.price %>" required>
      
      <label for="productStock">Product stock:</label>
      <input type="text" id="productStock" name="stock" value="<%= product.stock %>" required>
      

      <label for="productDescription">Product description:</label>
      <input type="text" id="productDescription" name="description" value="<%= product.description %>" required>

      <label for="productImages">Product Images:</label>
      <input type="file" id="productImages" name="Images" accept="image/*" multiple>
      
      <div class="image-preview">
        <!-- Display existing images for editing -->

        <% if (product && product.Images && product.Images.length > 0) { %>
          <% for (let i = 0; i < product.Images.length; i++) { %>
            <img src="<%= product.Images[i].slice(6) %>" alt="Product Image">
          <% } %>
        <% } %>
      </div>
      <button type="submit">Update Product</button>
    </form>

  </div>

</body>

</html>
